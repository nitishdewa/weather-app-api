async function getWeather(){try{var e=document.getElementById("city").value;const t=await axios.get("https://api.openweathermap.org/data/2.5/forecast",{params:{q:e,appid:"54a57bc234ad752a4f59e59cd372201d",units:"metric"}}),n=t.data.list[0].main.temp;document.querySelector(".weather-temp").textContent=Math.round(n)+"ยบC";const a=t.data.list,o={};a.forEach((e=>{const t=new Date(1e3*e.dt).toLocaleDateString("en-US",{weekday:"long"});o[t]?(o[t].minTemp=Math.min(o[t].minTemp,e.main.temp_min),o[t].maxTemp=Math.max(o[t].maxTemp,e.main.temp_max)):o[t]={minTemp:e.main.temp_min,maxTemp:e.main.temp_max,description:e.weather[0].description,humidity:e.main.humidity,windSpeed:e.wind.speed,icon:e.weather[0].icon}})),document.querySelector(".date-dayname").textContent=(new Date).toLocaleDateString("en-US",{weekday:"long"});const c=(new Date).toUTCString().slice(5,16);document.querySelector(".date-day").textContent=c.toLocaleString("en-US");const i=o[(new Date).toLocaleDateString("en-US",{weekday:"long"})].icon;document.querySelector(".weather-icon").innerHTML=getWeatherIcon(i),document.querySelector(".location").textContent=t.data.city.name,document.querySelector(".weather-desc").textContent=o[(new Date).toLocaleDateString("en-US",{weekday:"long"})].description.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),document.querySelector(".humidity .value").textContent=o[(new Date).toLocaleDateString("en-US",{weekday:"long"})].humidity+" %",document.querySelector(".wind .value").textContent=o[(new Date).toLocaleDateString("en-US",{weekday:"long"})].windSpeed+" m/s";const r=document.querySelectorAll(".day-name"),m=document.querySelectorAll(".day-temp"),d=document.querySelectorAll(".day-icon");r.forEach(((e,t)=>{const n=Object.keys(o)[t],a=o[n];e.textContent=n,m[t].textContent=`${Math.round(a.minTemp)}ยบ / ${Math.round(a.maxTemp)}ยบ`,d[t].innerHTML=getWeatherIcon(a.icon)}))}catch(e){}}function getWeatherIcon(e){return`<img src="https://openweathermap.org/img/wn/${e}@2x.png" alt="Weather Icon">`}document.getElementById("city").addEventListener("input",(function(){getWeather(this.value)})),document.addEventListener("DOMContentLoaded",(function(){getWeather(),setInterval(getWeather,9e5)}));